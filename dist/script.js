let pokemonRepository=function(){let t=[],e=document.querySelector("#modal-container");function n(){return t}function i(e){t.push(e)}function o(t){r(t).then(function(){var e;let n,i,o,a,l,r;e=t,n=$(".modal-body"),i=$(".modal-title"),i.empty(),n.empty(),o=$("<h1>"+e.name+"</h1>"),a=$('<img class="modal-img">'),a.attr("src",e.imageUrl),l=$("<p>Weight : "+e.weight+"</p>"),r=$("<p>Type : "+e.types+"</p>"),i.append(o),n.append(a),n.append(l),n.append(r)})}function a(){e.classList.remove("is-visible")}function l(t,e){t.addEventListener("click",function(){o(e)})}function r(t){return d(),fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){c(),t.imageURL=e.sprites.front_default,t.weight=e.weight,t.types=[];for(var n=0;n<e.types.length;n++)t.types.push(e.types[n].type.name)}).catch(function(t){c(),console.error(t)})}let s=document.querySelector(".main-title"),p=document.querySelector(".loading-message");function d(){p.innerText="loading...",s.appendChild(p)}function c(){s.appendChild(p),p.classList.add("invisible")}return{add:i,getAll:n,addListItem:function t(e){let n=document.querySelector(".pokemon-list"),i=document.createElement("li");i.classList.add("list-group-item"),n.appendChild(i);let o=document.createElement("button");o.innerText=e.name,o.classList.add("btn","btn-primary"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target",".modal"),o.setAttribute("type","button"),i.appendChild(o),n.appendChild(i),l(o,e)},showDetails:o,buttonClick:l,loadList:function t(){return d(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){c(),t.results.forEach(function(t){i({name:t.name,detailsUrl:t.url})})}).catch(function(t){c(),console.error(t)})},loadDetails:r,showLoadingMessage:d,hideLoadingMessage:c}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});